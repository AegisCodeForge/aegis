<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Aegis Web Installer</title>
	{{template "webinstaller/_style"}}
  </head>
  <body>
	<header>
	  <h1><a href="/">Aegis Web Installer</a></h1>
	  {{template "webinstaller/_nav"}}
	</header>

	<hr />
	<!-- step 6: git root & git user -->
	<h2>Step 6: Git Root & Git User</h2>
	<form action="" method="POST">
	  
	  <div class="field">
		<label class="field-label" for="git-user">Git User</label>
		{{if .Config.PlainMode}}
		<p>This field is skipped because if you've chosen to enable Plain Mode. With Plain Mode, the Git user would be whichever user that runs the current web installer. For this reason, the path you've configured below must be readable by the user running the web server.</p>
		{{else}}
		<p class="field-description">The name of the user Aegis will use to carry out its actions. This user should also be the user that runs the Aegis web server.</p>
		<table>
		  <thead><tr><th>Field</th><th>Value</th></tr></thead>
		  <tbody>
			<tr><td><label for="git-user">gitUser</label></td>
			  <td><input name="git-user" id="git-user" value="{{htmlEscape .Config.GitUser}}" /></td>
			</tr>
		  </tbody>
		</table>
		{{end}}
	  </div>
	  
	  <div class="field">
		<label class="field-label" for="git-root">Git Root</label>
		<p class="field-description">The root directory for storing Git repositories. Must be accessible by the Git user configured above.</p>
		<table>
		  <thead><tr><th>Field</th><th>Value</th></tr></thead>
		  <tbody>
			<tr><td><label for="git-root">gitRoot</label></td>
			  <td><input name="git-root" id="git-root" value="{{htmlEscape .Config.GitRoot}}" /></td>
			</tr>
		  </tbody>
		</table>
	  </div>
	  

	  {{if .Config.PlainMode}}
	  {{else}}
	  
	  <div class="field">
		<label class="field-label" for="snippet-root">Snippet Root</label>
		<p class="field-description">The root directory for storing snippets. Must be accessible by the Git user configured above.</p>
		<table>
		  <thead><tr><th>Field</th><th>Value</th></tr></thead>
		  <tbody>
			<tr><td><label for="snippet-root">snippetRoot</label></td>
			  <td><input name="snippet-root" id="snippet-root" value="{{htmlEscape .Config.SnippetRoot}}" /></td>
			</tr>
		  </tbody>
		</table>
	  </div>
	  
	  <p>You have choosen to not use Plain Mode. Step 7 only makes sense if you use Plain Mode, so we'll direct you to Step 8.</p>
	  {{end}}
	  <input type="submit" value="Submit and go to next step" />
	</form>
	<hr />

	{{if .ConfirmStageReached}}
	<p><a href="/confirm">Back to the finish line</a></p>
	{{end}}
	
	<footer>
	  {{template "_footer"}}
	</footer>
  </body>
</html>

