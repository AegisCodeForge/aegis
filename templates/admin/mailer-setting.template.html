<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Mailer Settings :: Admin :: {{.Config.DepotName}}</title>
	<link rel="stylesheet" href="/static/style-const-default.css">
	<link rel="stylesheet" href="/dynamic-asset/style-const-default.css">
	<link rel="stylesheet" href="/static/style.css">
	<link rel="stylesheet" href="/static/style-setting.css">
	<link rel="stylesheet" href="/static/style-admin.css">
  </head>
  <body>
	<header>
	  {{template "_header-nav" .}}
	  
	  <h1 class="header-name" style="margin-bottom: 0">Admin</h1>
	</header>
	<hr />

	<main>
	  {{template "_admin-sidebar"}}

	  <div class="setting-main main-side">
		<form action="" method="POST">
		  <fieldset>
			<legend>Mailer Settings</legend>
			<div>{{.ErrorMsg}}</div>
			<table class="field-table">
			  <tr class="field">
				<td><label class="field-label" for="s-type">Mailer Type:</label></td>
				<td><select name="type" id="s-type" value="{{.Config.Mailer.Type}}">
					<option value="smtp" {{if eq .Config.Mailer.Type "smtp"}}selected{{end}}>SMTP</option>
					<option value="gmail-plain" {{if eq .Config.Mailer.Type "gmail-plain"}}selected{{end}}>Gmail (w/ App Password)</option>
				</select></td>
			  </tr>
			  <tr class="field">
				<td><label class="field-label" for="tf-server">Mailer SMTP Server:</label></td>
				<td><input name="server" id="tf-server" class="field-tf" value="{{.Config.Mailer.SMTPServer}}"/></td>
			  </tr>
			  <tr class="field">
				<td><label class="field-label" for="tf-port">Mailer SMTP Port:</label></td>
				<td><input name="port" id="tf-port" class="field-tf" value="{{.Config.Mailer.SMTPPort}}"/></td>
			  </tr>
			  <tr class="field">
				<td><label class="field-label" for="tf-username">Mailer User Name:</label></td>
				<td><input name="username" id="tf-username" class="field-tf" value="{{.Config.Mailer.User}}"/></td>
			  </tr>
			  <tr class="field">
				<td><label class="field-label" for="tf-password">Mailer User Password:</label></td>
				<td><input name="password" id="tf-password" type="password" class="field-tf" value="{{.Config.Mailer.Password}}"/></td>
			  </tr>
			  <tr class="field">
				<td></td>
				<td><input class="field-submit" name="action" type="submit" value="Save Config" /></td>
			  </tr>
			</table>
		  </fieldset>
		  <fieldset>
			<legend>Test Email Setting</legend>
			<table class="field-table">
			  <tr class="field">
				<td><label class="field-label" for="tf-test-email-target">Test Email Target:</label></td>
				<td><input name="test-email-target" id="tf-test-email-target" type="email" class="field-tf" /></td>
			  </tr>
			  <tr class="field">
				<td></td>
				<td><input class="field-submit" name="action" type="submit" value="Test Mailer" /></td>
			  </tr>
			</table>
		  </fieldset>
		</form>
	  </div>
	</main>
	
    <hr />
	<footer>
	  {{template "_footer"}}
	</footer>
  </body>
</html>

